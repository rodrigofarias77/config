[ -x /usr/bin/yum ] || return

[ -x /usr/bin/dnf ] && c=dnf || c=yum

[ $UID != 0 ] && s='sudo '

wd='--setopt=install_weak_deps=0'

alias ac="$s$c clean all"
alias ai="$s$c install"
alias an="$c -C info"
alias ar="$s$c autoremove"
alias au="$s$c upgrade"

_l () { grep '\.[inx]' | perl -0pe 's/ *\n +/ /g' | tr -s ' ' | sort; }

ah () { ai ${@:3} http://$1/$(hr $1 | grep "fc$2.*rpm$" | sort -V | tail -1 | tee /dev/tty); }
al () { $c list installed "*$1*" | _l; }
as () { l=$($c -C list --showduplicates "*$1*" | _l); { grep @ <<< "$l" && echo; grep -v @ <<< "$l"; } | le -X; }

# vim: filetype=sh
