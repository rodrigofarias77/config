#!/bin/bash

pd () { pactl info | sed -n "s/^Default $1: //p"; }
sv () { sed -nr "s/^\t*Volume:.* ([0-9]*%).*/\1/p" | paste -s -d " "; }

if [ "$1" = -m ]; then
    shift

    if [ "$1" ]; then
        pactl set-source-volume $(pd Source) $1%
    else
        pactl list sources | sv
    fi
else
    if [ "$1" ]; then
        pactl set-sink-volume $(pd Sink) $1%
    else
        pactl list sinks | sv
    fi
fi
